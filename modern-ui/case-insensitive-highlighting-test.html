<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case-Insensitive Syntax Highlighting Test - iPseudo IDE</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #1e1e1e;
            color: #d4d4d4;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #569cd6;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            background: #2d2d30;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #3e3e42;
        }
        .test-title {
            color: #4ec9b0;
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .test-code {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 4px;
            padding: 15px;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            margin-bottom: 10px;
            overflow-x: auto;
        }
        .highlighted-code {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 4px;
            padding: 15px;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            margin-bottom: 10px;
            overflow-x: auto;
        }
        .keyword {
            color: #569cd6;
            font-weight: bold;
        }
        .string {
            color: #4ec9b0;
        }
        .number {
            color: #b5cea8;
        }
        .comment {
            color: #608b4e;
            font-style: italic;
        }
        .test-button {
            background: #0e639c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .test-button:hover {
            background: #1177bb;
        }
        .test-button:disabled {
            background: #666;
            cursor: not-allowed;
        }
        .output {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 4px;
            padding: 15px;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
        }
        .success {
            color: #4ec9b0;
        }
        .info {
            color: #569cd6;
        }
        .warning {
            color: #dcdcaa;
        }
        .case-example {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .case-example > div {
            flex: 1;
        }
        .case-title {
            color: #dcdcaa;
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Case-Insensitive Syntax Highlighting Test - iPseudo IDE</h1>
        
        <div class="test-section">
            <div class="test-title">Test 1: Mixed Case Keywords</div>
            <div class="case-example">
                <div>
                    <div class="case-title">Lowercase:</div>
                    <div class="highlighted-code" id="lowercase-example"></div>
                </div>
                <div>
                    <div class="case-title">Uppercase:</div>
                    <div class="highlighted-code" id="uppercase-example"></div>
                </div>
                <div>
                    <div class="case-title">Pascal Case:</div>
                    <div class="highlighted-code" id="pascal-example"></div>
                </div>
            </div>
            <button class="test-button" onclick="highlightExamples()">Highlight Examples</button>
            <div class="output" id="output1"></div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 2: Complete Algorithm with Mixed Cases</div>
            <div class="test-code" id="mixed-case-algorithm">algorithm MixedCaseTest
var x = 5
CONST y = 10
If x > 0 Then
    PRINT "Positive"
Else
    print "Non-positive"
EndIf
Endalgorithm</div>
            <button class="test-button" onclick="highlightMixedCaseAlgorithm()">Highlight Mixed Case Algorithm</button>
            <div class="output" id="output2"></div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 3: Complex Algorithm with All Cases</div>
            <div class="test-code" id="complex-mixed-algorithm">ALGORITHM ComplexMixedCase
VAR numbers = [3, 7, 2, 9, 1]
Const max = numbers[0]
var i = 1

WHILE i < 5
    if numbers[i] > max Then
        max = numbers[i]
    EndIf
    i = i + 1
EndWhile

PRINT "Maximum number is", max
ENDALGORITHM</div>
            <button class="test-button" onclick="highlightComplexMixedAlgorithm()">Highlight Complex Mixed Algorithm</button>
            <div class="output" id="output3"></div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 4: Function with Mixed Cases</div>
            <div class="test-code" id="function-mixed-algorithm">Algorithm FunctionMixedCase
FUNCTION AddNumbers(a, b)
    return a + b
ENDFUNCTION

var result = AddNumbers(5, 3)
Print "Result is", result
Endalgorithm</div>
            <button class="test-button" onclick="highlightFunctionMixedAlgorithm()">Highlight Function Mixed Algorithm</button>
            <div class="output" id="output4"></div>
        </div>

        <div class="test-section">
            <div class="test-title">Test 5: Loop with Mixed Cases</div>
            <div class="test-code" id="loop-mixed-algorithm">algorithm LoopMixedCase
VAR sum = 0
FOR i = 1 TO 10
    sum = sum + i
EndFor
print "Sum from 1 to 10 is", sum
ENDALGORITHM</div>
            <button class="test-button" onclick="highlightLoopMixedAlgorithm()">Highlight Loop Mixed Algorithm</button>
            <div class="output" id="output5"></div>
        </div>
    </div>

    <script>
        // Mock syntax highlighting function
        function highlightPseudocode(code) {
            // Define all keyword patterns (case-insensitive)
            const keywordPatterns = [
                /\b(var|const|if|then|else|elseif|endif|for|to|endfor|while|endwhile|do|until|repeat|case|switch|endswitch|function|endfunction|return|break|continue|print|input|true|false|null|and|or|not|mod|div|algorithm|endalgorithm|VAR|CONST|IF|THEN|ELSE|ELSEIF|ENDIF|FOR|TO|ENDFOR|WHILE|ENDWHILE|DO|UNTIL|REPEAT|CASE|SWITCH|ENDSWITCH|FUNCTION|ENDFUNCTION|RETURN|BREAK|CONTINUE|PRINT|INPUT|TRUE|FALSE|NULL|AND|OR|NOT|MOD|DIV|ALGORITHM|ENDALGORITHM|Var|Const|If|Then|Else|Elseif|Endif|For|To|Endfor|While|Endwhile|Do|Until|Repeat|Case|Switch|Endswitch|Function|Endfunction|Return|Break|Continue|Print|Input|True|False|Null|And|Or|Not|Mod|Div|Algorithm|Endalgorithm)\b/g
            ];
            
            let highlightedCode = code;
            
            // Highlight keywords
            keywordPatterns.forEach(pattern => {
                highlightedCode = highlightedCode.replace(pattern, '<span class="keyword">$&</span>');
            });
            
            // Highlight strings
            highlightedCode = highlightedCode.replace(/"([^"]*)"/g, '<span class="string">"$1"</span>');
            highlightedCode = highlightedCode.replace(/'([^']*)'/g, '<span class="string">\'$1\'</span>');
            
            // Highlight numbers
            highlightedCode = highlightedCode.replace(/\b\d+(\.\d+)?\b/g, '<span class="number">$&</span>');
            
            // Highlight comments
            highlightedCode = highlightedCode.replace(/#.*$/gm, '<span class="comment">$&</span>');
            
            return highlightedCode;
        }

        function highlightExamples() {
            const lowercaseCode = `algorithm test
var x = 5
if x > 0 then
    print "positive"
endif
endalgorithm`;

            const uppercaseCode = `ALGORITHM TEST
VAR X = 5
IF X > 0 THEN
    PRINT "POSITIVE"
ENDIF
ENDALGORITHM`;

            const pascalCode = `Algorithm Test
Var x = 5
If x > 0 Then
    Print "positive"
Endif
Endalgorithm`;

            document.getElementById('lowercase-example').innerHTML = highlightPseudocode(lowercaseCode);
            document.getElementById('uppercase-example').innerHTML = highlightPseudocode(uppercaseCode);
            document.getElementById('pascal-example').innerHTML = highlightPseudocode(pascalCode);

            document.getElementById('output1').innerHTML = '<span class="success">âœ… All three cases highlighted successfully!</span>\n\n<span class="info">Notice how keywords are highlighted regardless of case:</span>\n- Lowercase: <span class="keyword">var</span>, <span class="keyword">if</span>, <span class="keyword">print</span>\n- Uppercase: <span class="keyword">VAR</span>, <span class="keyword">IF</span>, <span class="keyword">PRINT</span>\n- Pascal Case: <span class="keyword">Var</span>, <span class="keyword">If</span>, <span class="keyword">Print</span>';
        }

        function highlightMixedCaseAlgorithm() {
            const code = document.getElementById('mixed-case-algorithm').textContent;
            const highlighted = highlightPseudocode(code);
            document.getElementById('mixed-case-algorithm').innerHTML = highlighted;
            
            document.getElementById('output2').innerHTML = '<span class="success">âœ… Mixed case algorithm highlighted successfully!</span>\n\n<span class="info">Keywords highlighted regardless of case:</span>\n- <span class="keyword">algorithm</span> (lowercase)\n- <span class="keyword">var</span> (lowercase)\n- <span class="keyword">CONST</span> (uppercase)\n- <span class="keyword">If</span> (Pascal case)\n- <span class="keyword">Then</span> (Pascal case)\n- <span class="keyword">PRINT</span> (uppercase)\n- <span class="keyword">print</span> (lowercase)\n- <span class="keyword">EndIf</span> (Pascal case)\n- <span class="keyword">Endalgorithm</span> (Pascal case)';
        }

        function highlightComplexMixedAlgorithm() {
            const code = document.getElementById('complex-mixed-algorithm').textContent;
            const highlighted = highlightPseudocode(code);
            document.getElementById('complex-mixed-algorithm').innerHTML = highlighted;
            
            document.getElementById('output3').innerHTML = '<span class="success">âœ… Complex mixed case algorithm highlighted successfully!</span>\n\n<span class="info">All keyword variations highlighted:</span>\n- <span class="keyword">ALGORITHM</span> (uppercase)\n- <span class="keyword">VAR</span> (uppercase)\n- <span class="keyword">Const</span> (Pascal case)\n- <span class="keyword">var</span> (lowercase)\n- <span class="keyword">WHILE</span> (uppercase)\n- <span class="keyword">if</span> (lowercase)\n- <span class="keyword">Then</span> (Pascal case)\n- <span class="keyword">EndIf</span> (Pascal case)\n- <span class="keyword">EndWhile</span> (Pascal case)\n- <span class="keyword">PRINT</span> (uppercase)\n- <span class="keyword">ENDALGORITHM</span> (uppercase)';
        }

        function highlightFunctionMixedAlgorithm() {
            const code = document.getElementById('function-mixed-algorithm').textContent;
            const highlighted = highlightPseudocode(code);
            document.getElementById('function-mixed-algorithm').innerHTML = highlighted;
            
            document.getElementById('output4').innerHTML = '<span class="success">âœ… Function mixed case algorithm highlighted successfully!</span>\n\n<span class="info">Function keywords highlighted:</span>\n- <span class="keyword">Algorithm</span> (Pascal case)\n- <span class="keyword">FUNCTION</span> (uppercase)\n- <span class="keyword">return</span> (lowercase)\n- <span class="keyword">ENDFUNCTION</span> (uppercase)\n- <span class="keyword">var</span> (lowercase)\n- <span class="keyword">Print</span> (Pascal case)\n- <span class="keyword">Endalgorithm</span> (Pascal case)';
        }

        function highlightLoopMixedAlgorithm() {
            const code = document.getElementById('loop-mixed-algorithm').textContent;
            const highlighted = highlightPseudocode(code);
            document.getElementById('loop-mixed-algorithm').innerHTML = highlighted;
            
            document.getElementById('output5').innerHTML = '<span class="success">âœ… Loop mixed case algorithm highlighted successfully!</span>\n\n<span class="info">Loop keywords highlighted:</span>\n- <span class="keyword">algorithm</span> (lowercase)\n- <span class="keyword">VAR</span> (uppercase)\n- <span class="keyword">FOR</span> (uppercase)\n- <span class="keyword">TO</span> (uppercase)\n- <span class="keyword">EndFor</span> (Pascal case)\n- <span class="keyword">print</span> (lowercase)\n- <span class="keyword">ENDALGORITHM</span> (uppercase)';
        }

        // Initialize examples on page load
        window.onload = function() {
            highlightExamples();
        };
    </script>
</body>
</html>
