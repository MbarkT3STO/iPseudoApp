<!DOCTYPE html>
<html lang="en" class="theme-transition theme-dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPseudo IDE - Tooltip Test</title>
    
    <!-- Modern Fonts -->
    
    
    <link rel="stylesheet" href="fonts/google/inter.css">
    <link rel="stylesheet" href="fonts/google/jetbrains-mono.css">
    <link rel="stylesheet" href="fonts/google/fira-code.css">
    
    <!-- Modern Icons -->
    <link rel="stylesheet" href="fonts/remixicon/remixicon.css">
    
    <!-- Modern Styles -->
    <link rel="stylesheet" href="styles/modern-design-tokens.css">
    <link rel="stylesheet" href="styles/modern-base.css">
    <link rel="stylesheet" href="styles/modern-components.css">
    <link rel="stylesheet" href="styles/modern-layout.css">
    <link rel="stylesheet" href="styles/modern-theme.css">
    
    <!-- Modern Tooltip System -->
    <script src="scripts/modern-tooltip.js"></script>
</head>
<body>
    <div class="modern-app-container">
        <!-- Modern Top Navigation -->
        <header class="modern-top-nav">
            <div class="nav-left">
                <!-- Modern App Brand -->
                <a href="#" class="modern-app-brand" id="appBrand">
                    <div class="brand-logo">
                        <svg class="logo-svg" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#8b5cf6;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                    <feMerge> 
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>
                            <circle cx="20" cy="20" r="18" fill="url(#logoGradient)" filter="url(#glow)"/>
                            <path d="M12 14L8 20L12 26" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.9"/>
                            <path d="M28 14L32 20L28 26" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.9"/>
                            <circle cx="20" cy="20" r="3" fill="white" opacity="0.95"/>
                        </svg>
                    </div>
                    <div class="brand-text">
                        <span class="brand-name">iPseudo</span>
                        <span class="brand-ide">IDE</span>
                    </div>
                </a>
                
                <!-- Modern File Actions -->
                <div class="file-actions">
                    <button class="modern-btn modern-btn-icon" id="btnNew" title="New File">
                        <i class="ri-add-line"></i>
                    </button>
                    <button class="modern-btn modern-btn-primary" id="btnOpen" title="Open File">
                        <i class="ri-folder-open-line"></i>
                        <span>Open</span>
                    </button>
                    <button class="modern-btn modern-btn-secondary" id="btnSave" title="Save File">
                        <i class="ri-save-line"></i>
                        <span>Save</span>
                    </button>
                </div>
            </div>
            
            <div class="nav-right">
                <!-- Modern Run Button -->
                <button class="modern-btn modern-btn-run" id="btnRun" title="Run Code (Ctrl+Enter)">
                    <i class="ri-play-line"></i>
                    <span>Run</span>
                </button>
                
                <!-- Stop Button -->
                <button class="modern-btn modern-btn-stop" id="btnStop" title="Stop Execution">
                    <i class="ri-stop-line"></i>
                </button>
                
                <!-- Modern Theme Toggle -->
                <button class="modern-btn modern-btn-icon" id="btnThemeToggle" title="Toggle Theme">
                    <i class="ri-contrast-2-line"></i>
                </button>
                
                <!-- Layout Toggle -->
                <button class="modern-btn modern-btn-icon" id="layoutToggle" title="Toggle Layout">
                    <i class="ri-layout-column-line" id="layoutIcon"></i>
                </button>
                
                <!-- Classic UI Switch Button -->
                <button class="modern-btn modern-btn-icon" id="btnClassicUI" title="Switch to Classic UI">
                    <i class="ri-palette-2-line"></i>
                </button>
                
                <!-- Modern Settings Button -->
                <button class="modern-btn modern-btn-icon" id="btnSettings" title="Settings">
                    <i class="ri-settings-3-line"></i>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="modern-main-content">
            <div class="modern-content-area">
                <div style="padding: 2rem; max-width: 1200px; margin: 0 auto;">
                    <h1 style="margin-bottom: 2rem; text-align: center;">Comprehensive Tooltip Test</h1>
                    
                    <!-- Test Results -->
                    <div id="testResults" style="margin-bottom: 2rem; padding: 1rem; background: var(--editor-bg-secondary); border-radius: var(--radius-xl); border: 1px solid var(--editor-border);">
                        <h3 style="margin-bottom: 1rem; color: var(--accent-primary);">
                            <i class="ri-checkbox-circle-line"></i>
                            Test Results
                        </h3>
                        <div id="testStatus" style="color: var(--editor-text-secondary);">
                            Running tests...
                        </div>
                    </div>
                    
                    <!-- Button Tests -->
                    <div style="margin-bottom: 3rem;">
                        <h2 style="margin-bottom: 1rem;">All Button Types Test</h2>
                        <div style="display: flex; flex-wrap: wrap; gap: 1rem; align-items: center;">
                            <button class="modern-btn modern-btn-primary" title="Primary Button Tooltip">
                                <i class="ri-star-line"></i>
                                <span>Primary</span>
                            </button>
                            
                            <button class="modern-btn modern-btn-secondary" title="Secondary Button Tooltip">
                                <i class="ri-heart-line"></i>
                                <span>Secondary</span>
                            </button>
                            
                            <button class="modern-btn modern-btn-run" title="Run Button Tooltip">
                                <i class="ri-play-line"></i>
                                <span>Run</span>
                            </button>
                            
                            <button class="modern-btn modern-btn-stop" title="Stop Button Tooltip">
                                <i class="ri-stop-line"></i>
                                <span>Stop</span>
                            </button>
                            
                            <button class="modern-btn modern-btn-icon" title="Icon Button Tooltip">
                                <i class="ri-settings-3-line"></i>
                            </button>
                            
                            <button class="modern-btn modern-btn-sm" title="Small Button Tooltip">
                                <i class="ri-code-s-slash-line"></i>
                                <span>Small</span>
                            </button>
                            
                            <button class="modern-btn modern-btn-lg" title="Large Button Tooltip">
                                <i class="ri-expand-line"></i>
                                <span>Large</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Dynamic Button Test -->
                    <div style="margin-bottom: 3rem;">
                        <h2 style="margin-bottom: 1rem;">Dynamic Button Test</h2>
                        <div style="margin-bottom: 1rem;">
                            <button class="modern-btn modern-btn-primary" onclick="addDynamicButton()" title="Add Dynamic Button">
                                <i class="ri-add-line"></i>
                                <span>Add Dynamic Button</span>
                            </button>
                        </div>
                        <div id="dynamicButtons" style="display: flex; flex-wrap: wrap; gap: 1rem; align-items: center;">
                            <!-- Dynamic buttons will be added here -->
                        </div>
                    </div>
                    
                    <!-- Tab Test -->
                    <div style="margin-bottom: 3rem;">
                        <h2 style="margin-bottom: 1rem;">Tab Close Button Test</h2>
                        <div class="modern-tabs-container">
                            <div class="tabs-track">
                                <div class="tab active">
                                    <span class="tab-label">Test Tab 1</span>
                                    <button class="modern-btn modern-btn-icon modern-tab-close" title="Close Tab">
                                        <i class="ri-close-line"></i>
                                    </button>
                                </div>
                                <div class="tab">
                                    <span class="tab-label">Test Tab 2</span>
                                    <button class="modern-btn modern-btn-icon modern-tab-close" title="Close Tab">
                                        <i class="ri-close-line"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Instructions -->
                    <div style="background: var(--editor-bg-secondary); padding: 1.5rem; border-radius: var(--radius-xl); border: 1px solid var(--editor-border);">
                        <h3 style="margin-bottom: 1rem; color: var(--accent-primary);">
                            <i class="ri-information-line"></i>
                            Test Instructions
                        </h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 0.5rem;">
                                <i class="ri-mouse-line" style="color: var(--accent-primary); margin-right: 0.5rem;"></i>
                                <strong>Hover</strong> over any button to see the styled tooltip
                            </li>
                            <li style="margin-bottom: 0.5rem;">
                                <i class="ri-keyboard-line" style="color: var(--accent-primary); margin-right: 0.5rem;"></i>
                                <strong>Tab</strong> to focus buttons and see tooltips
                            </li>
                            <li style="margin-bottom: 0.5rem;">
                                <i class="ri-contrast-2-line" style="color: var(--accent-primary); margin-right: 0.5rem;"></i>
                                <strong>Toggle theme</strong> to test tooltips in both themes
                            </li>
                            <li style="margin-bottom: 0.5rem;">
                                <i class="ri-add-line" style="color: var(--accent-primary); margin-right: 0.5rem;"></i>
                                <strong>Add dynamic buttons</strong> to test tooltip system with new elements
                            </li>
                            <li>
                                <i class="ri-smartphone-line" style="color: var(--accent-primary); margin-right: 0.5rem;"></i>
                                <strong>Resize window</strong> to test responsive tooltip positioning
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let dynamicButtonCount = 0;
        
        // Theme toggle functionality
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('btnThemeToggle');
            const body = document.body;
            
            themeToggle.addEventListener('click', () => {
                const isDark = body.classList.contains('theme-dark');
                body.classList.remove('theme-dark', 'theme-light');
                body.classList.add(isDark ? 'theme-light' : 'theme-dark');
                
                // Update icon
                const icon = themeToggle.querySelector('i');
                icon.className = isDark ? 'ri-sun-line' : 'ri-moon-line';
            });
            
            // Test button interactions
            const buttons = document.querySelectorAll('.modern-btn');
            buttons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log('Button clicked:', button.id || button.title);
                });
            });
            
            // Run tests
            runTests();
        });
        
        function addDynamicButton() {
            dynamicButtonCount++;
            const button = document.createElement('button');
            button.className = 'modern-btn modern-btn-secondary';
            button.title = `Dynamic Button ${dynamicButtonCount} Tooltip`;
            button.innerHTML = `
                <i class="ri-add-circle-line"></i>
                <span>Dynamic ${dynamicButtonCount}</span>
            `;
            
            button.addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Dynamic button clicked:', button.title);
            });
            
            document.getElementById('dynamicButtons').appendChild(button);
            
            // Update test results
            updateTestResults();
        }
        
        function runTests() {
            const results = [];
            
            // Test 1: Check if tooltip system is loaded
            if (window.modernTooltip) {
                results.push('✅ Tooltip system loaded');
            } else {
                results.push('❌ Tooltip system not loaded');
            }
            
            // Test 2: Check if tooltip element exists
            const tooltip = document.querySelector('.modern-tooltip');
            if (tooltip) {
                results.push('✅ Tooltip element created');
            } else {
                results.push('❌ Tooltip element not found');
            }
            
            // Test 3: Check if buttons have tooltip triggers
            const tooltipTriggers = document.querySelectorAll('.tooltip-trigger');
            results.push(`✅ Found ${tooltipTriggers.length} tooltip triggers`);
            
            // Test 4: Check if buttons have title attributes converted
            const buttonsWithDataTooltip = document.querySelectorAll('[data-tooltip-text]');
            results.push(`✅ Found ${buttonsWithDataTooltip.length} buttons with tooltip data`);
            
            updateTestResults(results);
        }
        
        function updateTestResults(results = null) {
            const statusDiv = document.getElementById('testStatus');
            if (results) {
                statusDiv.innerHTML = results.join('<br>');
            } else {
                const tooltipTriggers = document.querySelectorAll('.tooltip-trigger');
                const buttonsWithDataTooltip = document.querySelectorAll('[data-tooltip-text]');
                statusDiv.innerHTML = `
                    ✅ Tooltip system loaded<br>
                    ✅ Tooltip element created<br>
                    ✅ Found ${tooltipTriggers.length} tooltip triggers<br>
                    ✅ Found ${buttonsWithDataTooltip.length} buttons with tooltip data<br>
                    ✅ Dynamic button test: ${dynamicButtonCount} buttons added
                `;
            }
        }
    </script>
</body>
</html>
