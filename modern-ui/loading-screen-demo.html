<!DOCTYPE html>
<html lang="en" class="theme-transition theme-dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Loading Screen Demo - iPseudo IDE</title>
    
    <!-- Local Fonts -->
    <link rel="stylesheet" href="fonts/google/inter.css">
    <link rel="stylesheet" href="fonts/google/jetbrains-mono.css">
    <link rel="stylesheet" href="fonts/google/fira-code.css">
    <link rel="stylesheet" href="fonts/google/poppins.css">
    
    <!-- Local Icons -->
    <link rel="stylesheet" href="fonts/remixicon/remixicon.css">
    
    <!-- Modern Styles -->
    <link rel="stylesheet" href="styles/modern-design-tokens.css">
    <link rel="stylesheet" href="styles/modern-base.css">
    <link rel="stylesheet" href="styles/modern-components.css">
    <link rel="stylesheet" href="styles/modern-layout.css">
    <link rel="stylesheet" href="styles/modern-theme.css">
    <link rel="stylesheet" href="styles/modern-tab-system.css">
    <link rel="stylesheet" href="styles/performance.css">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            padding: 2rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .demo-container {
            text-align: center;
            max-width: 800px;
        }
        
        .demo-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 50%, var(--accent-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }
        
        .demo-subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-bottom: 3rem;
            line-height: 1.6;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .feature-card {
            background: 
                linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.1) 0%, 
                    rgba(255, 255, 255, 0.05) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transition: all var(--duration-normal) var(--ease-in-out);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity var(--duration-normal) var(--ease-in-out);
            pointer-events: none;
        }
        
        .feature-card:hover::before {
            opacity: 1;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: rgba(59, 130, 246, 0.3);
        }
        
        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem auto;
            font-size: 1.5rem;
            color: white;
        }
        
        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        
        .feature-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        .demo-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }
        
        .theme-toggle {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 1000;
        }
        
        @keyframes titleGlow {
            0% {
                filter: brightness(1);
            }
            100% {
                filter: brightness(1.2);
            }
        }
        
        [data-theme="light"] .feature-card {
            background: 
                linear-gradient(135deg, 
                    rgba(0, 0, 0, 0.05) 0%, 
                    rgba(0, 0, 0, 0.02) 100%);
            border-color: rgba(0, 0, 0, 0.1);
        }
        
        [data-theme="light"] .feature-card::before {
            background: 
                radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.05) 0%, transparent 70%);
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1 class="demo-title">Enhanced Loading Experience</h1>
        <p class="demo-subtitle">Experience the next generation of loading screens with Modern UI design principles and optimized performance</p>
        
        <div class="feature-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="ri-magic-line"></i>
                </div>
                <h3 class="feature-title">Modern Design Language</h3>
                <p class="feature-description">Beautiful glassmorphism effects, animated gradients, and 3D transforms that showcase the Modern UI aesthetic during loading.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="ri-speed-line"></i>
                </div>
                <h3 class="feature-title">Optimized Performance</h3>
                <p class="feature-description">Reduced loading delays from 1000ms to 800ms, with faster editor initialization and smoother transitions.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="ri-palette-line"></i>
                </div>
                <h3 class="feature-title">Animated Progress</h3>
                <p class="feature-description">Dynamic progress bar with gradient colors and smooth animations that provide visual feedback during the loading process.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="ri-eye-line"></i>
                </div>
                <h3 class="feature-title">Visual Continuity</h3>
                <p class="feature-description">Seamless transition from splash screen to loading screen to Modern UI, maintaining design consistency throughout.</p>
            </div>
        </div>
        
        <div class="demo-buttons">
            <button class="modern-btn modern-btn-primary" onclick="testModernLoading()">
                <i class="ri-flashlight-line"></i>
                Test Modern Loading
            </button>
            
            <button class="modern-btn modern-btn-secondary" onclick="testClassicLoading()">
                <i class="ri-palette-line"></i>
                Test Classic Loading
            </button>
            
            <button class="modern-btn modern-btn-secondary" onclick="toggleTheme()">
                <i class="ri-contrast-2-line"></i>
                Toggle Theme
            </button>
        </div>
    </div>
    
    <button class="modern-btn modern-btn-secondary theme-toggle" id="themeToggle">
        <i class="ri-contrast-2-line"></i>
        Theme
    </button>
    
    <script>
        // Theme toggle functionality
        function toggleTheme() {
            const html = document.documentElement;
            const isDark = html.classList.contains('theme-dark');
            
            if (isDark) {
                html.classList.remove('theme-dark');
                html.classList.add('theme-light');
            } else {
                html.classList.remove('theme-light');
                html.classList.add('theme-dark');
            }
        }
        
        document.getElementById('themeToggle').addEventListener('click', toggleTheme);
        
        // Modern loading screen function (copied from ui-detector.js)
        function showModernLoadingScreen(uiType = 'modern') {
            // Create modern loading overlay
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: 
                    radial-gradient(circle at 30% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                    radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.8) 100%);
                backdrop-filter: blur(24px) saturate(200%) brightness(0.9);
                -webkit-backdrop-filter: blur(24px) saturate(200%) brightness(0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                color: white;
                font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                animation: overlayPulse 3s ease-in-out infinite alternate;
            `;

            // Create modern loading card
            const card = document.createElement('div');
            card.style.cssText = `
                background: 
                    linear-gradient(135deg, 
                        rgba(255, 255, 255, 0.25) 0%, 
                        rgba(255, 255, 255, 0.1) 50%,
                        rgba(255, 255, 255, 0.15) 100%);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 24px;
                padding: 3rem 2.5rem;
                text-align: center;
                max-width: 400px;
                width: 90%;
                position: relative;
                overflow: hidden;
                backdrop-filter: blur(32px) saturate(200%) brightness(1.1);
                -webkit-backdrop-filter: blur(32px) saturate(200%) brightness(1.1);
                box-shadow: 
                    0 40px 80px rgba(0, 0, 0, 0.5),
                    0 20px 40px rgba(0, 0, 0, 0.3),
                    0 10px 20px rgba(0, 0, 0, 0.2),
                    inset 0 2px 0 rgba(255, 255, 255, 0.3),
                    inset 0 -2px 0 rgba(0, 0, 0, 0.1);
                transform: scale(0.9) translateY(20px);
                opacity: 0;
                animation: cardEntrance 0.6s ease-out forwards, cardFloat 4s ease-in-out infinite 0.6s;
            `;

            // Add animated background
            const background = document.createElement('div');
            background.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: 
                    radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 60%),
                    radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.12) 0%, transparent 60%),
                    radial-gradient(circle at 50% 10%, rgba(16, 185, 129, 0.08) 0%, transparent 50%);
                pointer-events: none;
                z-index: 0;
                animation: backgroundGlow 3s ease-in-out infinite alternate;
            `;

            // Create modern icon container
            const iconContainer = document.createElement('div');
            iconContainer.style.cssText = `
                width: 80px;
                height: 80px;
                border-radius: 50%;
                background: 
                    linear-gradient(135deg, 
                        rgba(59, 130, 246, 0.3) 0%, 
                        rgba(139, 92, 246, 0.2) 100%);
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 1.5rem auto;
                position: relative;
                z-index: 1;
                animation: iconPulse 2s ease-in-out infinite;
            `;

            const icon = document.createElement('div');
            icon.style.cssText = `
                font-size: 2rem;
                color: #3b82f6;
                animation: iconSpin 1.5s linear infinite;
            `;
            icon.innerHTML = '⚡';

            // Create title
            const title = document.createElement('div');
            title.style.cssText = `
                font-size: 1.5rem;
                font-weight: 700;
                margin-bottom: 0.5rem;
                background: linear-gradient(135deg, #ffffff 0%, #3b82f6 50%, #8b5cf6 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                position: relative;
                z-index: 1;
            `;
            title.textContent = `Switching to ${uiType === 'modern' ? 'Modern' : 'Classic'} UI`;

            // Create subtitle
            const subtitle = document.createElement('div');
            subtitle.style.cssText = `
                font-size: 1rem;
                opacity: 0.8;
                line-height: 1.5;
                position: relative;
                z-index: 1;
            `;
            subtitle.textContent = 'Preparing your enhanced experience...';

            // Create progress bar
            const progressContainer = document.createElement('div');
            progressContainer.style.cssText = `
                width: 100%;
                height: 4px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 2px;
                margin-top: 1.5rem;
                overflow: hidden;
                position: relative;
                z-index: 1;
            `;

            const progressBar = document.createElement('div');
            progressBar.style.cssText = `
                height: 100%;
                background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 50%, #10b981 100%);
                border-radius: 2px;
                width: 0%;
                animation: progressFill 1s ease-out forwards;
            `;

            // Add all CSS animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes overlayPulse {
                    0% {
                        background: 
                            radial-gradient(circle at 30% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                            radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                            radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.8) 100%);
                    }
                    100% {
                        background: 
                            radial-gradient(circle at 30% 20%, rgba(59, 130, 246, 0.2) 0%, transparent 50%),
                            radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.18) 0%, transparent 50%),
                            radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.85) 100%);
                    }
                }
                
                @keyframes cardEntrance {
                    to {
                        transform: scale(1) translateY(0);
                        opacity: 1;
                    }
                }
                
                @keyframes cardFloat {
                    0%, 100% {
                        transform: translateY(0px);
                    }
                    50% {
                        transform: translateY(-5px);
                    }
                }
                
                @keyframes backgroundGlow {
                    0% {
                        opacity: 0.6;
                    }
                    100% {
                        opacity: 1;
                    }
                }
                
                @keyframes iconPulse {
                    0%, 100% {
                        transform: scale(1);
                    }
                    50% {
                        transform: scale(1.05);
                    }
                }
                
                @keyframes iconSpin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
                
                @keyframes progressFill {
                    to {
                        width: 100%;
                    }
                }
            `;
            document.head.appendChild(style);

            // Assemble the card
            iconContainer.appendChild(icon);
            progressContainer.appendChild(progressBar);
            
            card.appendChild(background);
            card.appendChild(iconContainer);
            card.appendChild(title);
            card.appendChild(subtitle);
            card.appendChild(progressContainer);
            
            overlay.appendChild(card);
            document.body.appendChild(overlay);
            
            // Auto-remove after 3 seconds
            setTimeout(() => {
                overlay.style.animation = 'fadeOut 0.5s ease-out forwards';
                setTimeout(() => {
                    if (overlay.parentNode) {
                        overlay.parentNode.removeChild(overlay);
                    }
                }, 500);
            }, 3000);
        }
        
        // Test functions
        function testModernLoading() {
            showModernLoadingScreen('modern');
        }
        
        function testClassicLoading() {
            showModernLoadingScreen('classic');
        }
        
        // Add fade out animation
        const fadeStyle = document.createElement('style');
        fadeStyle.textContent = `
            @keyframes fadeOut {
                to {
                    opacity: 0;
                    transform: scale(0.9);
                }
            }
        `;
        document.head.appendChild(fadeStyle);
    </script>
</body>
</html>
