/* ===== MODERN THEME SYSTEM ===== */
/* Theme-specific styles and dark/light mode overrides */

/* ===== LIGHT THEME (DEFAULT) ===== */
.theme-light {
  /* Light theme is the default, defined in design-tokens.css */
}

/* ===== DARK THEME OVERRIDES ===== */
.theme-dark {
  /* Dark theme overrides are defined in design-tokens.css */
}

/* ===== MODERN THEME TRANSITIONS ===== */
.theme-transition {
  transition: background-color var(--duration-normal) var(--ease-in-out),
              color var(--duration-normal) var(--ease-in-out),
              border-color var(--duration-normal) var(--ease-in-out),
              box-shadow var(--duration-normal) var(--ease-in-out);
}

/* ===== MODERN DARK MODE ENHANCEMENTS ===== */
.theme-dark .top-nav {
  background: rgba(15, 23, 42, 0.8);
  border-bottom-color: var(--border-light);
}

.theme-dark .tabs-container {
  background: var(--bg-secondary);
  border-bottom-color: var(--border-light);
}

.theme-dark .editor-container {
  background: var(--bg-primary);
  border-color: var(--border-light);
  box-shadow: var(--shadow-xl);
}

.theme-dark .console-container {
  background: var(--bg-secondary);
  border-top-color: var(--border-light);
}

.theme-dark .status-bar {
  background: var(--bg-secondary);
  border-top-color: var(--border-light);
}

/* ===== MODERN LIGHT MODE ENHANCEMENTS ===== */
.theme-light .top-nav {
  background: rgba(255, 255, 255, 0.8);
  border-bottom-color: var(--border-light);
}

.theme-light .tabs-container {
  background: var(--bg-secondary);
  border-bottom-color: var(--border-light);
}

.theme-light .editor-container {
  background: var(--bg-primary);
  border-color: var(--border-light);
  box-shadow: var(--shadow-lg);
}

.theme-light .console-container {
  background: var(--bg-secondary);
  border-top-color: var(--border-light);
}

.theme-light .status-bar {
  background: var(--bg-secondary);
  border-top-color: var(--border-light);
}

/* ===== MODERN TAB THEME ENHANCEMENTS ===== */
.theme-dark .tab {
  color: var(--text-secondary);
}

.theme-dark .tab:hover {
  background: var(--bg-glass);
  color: var(--text-primary);
  border-color: var(--border-light);
}

/* Theme-specific active tab styles removed - now handled in ultra-modern-components.css */

.theme-light .tab {
  color: var(--text-secondary);
}

.theme-light .tab:hover {
  background: var(--bg-glass);
  color: var(--text-primary);
  border-color: var(--border-light);
}

/* Theme-specific active tab styles removed - now handled in ultra-modern-components.css */

/* ===== MODERN BUTTON THEME ENHANCEMENTS ===== */
.theme-dark .btn-secondary {
  background: rgba(15, 23, 42, 0.8);
  color: var(--text-primary);
  border-color: var(--border-light);
}

.theme-dark .btn-secondary:hover:not(:disabled) {
  background: rgba(15, 23, 42, 0.9);
  border-color: var(--border-medium);
}

.theme-light .btn-secondary {
  background: rgba(255, 255, 255, 0.8);
  color: var(--text-primary);
  border-color: var(--border-light);
}

.theme-light .btn-secondary:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.9);
  border-color: var(--border-medium);
}

/* ===== MODERN CONSOLE THEME ENHANCEMENTS ===== */
.theme-dark .console-output {
  background: var(--bg-primary);
  color: var(--text-primary);
  border-color: var(--border-light);
}

.theme-dark .console-message {
  background: var(--bg-secondary);
  border-left-color: var(--primary-500);
}

.theme-dark .console-error {
  background: rgba(239, 68, 68, 0.1);
  color: var(--error);
  border-left-color: var(--error);
}

.theme-dark .console-warning {
  background: rgba(245, 158, 11, 0.1);
  color: var(--warning);
  border-left-color: var(--warning);
}

.theme-dark .console-success {
  background: rgba(34, 197, 94, 0.1);
  color: var(--success);
  border-left-color: var(--success);
}

.theme-light .console-output {
  background: var(--bg-primary);
  color: var(--text-primary);
  border-color: var(--border-light);
}

.theme-light .console-message {
  background: var(--bg-secondary);
  border-left-color: var(--primary-500);
}

.theme-light .console-error {
  background: rgba(239, 68, 68, 0.05);
  color: var(--error);
  border-left-color: var(--error);
}

.theme-light .console-warning {
  background: rgba(245, 158, 11, 0.05);
  color: var(--warning);
  border-left-color: var(--warning);
}

.theme-light .console-success {
  background: rgba(34, 197, 94, 0.05);
  color: var(--success);
  border-left-color: var(--success);
}

/* ===== MODERN MODAL THEME ENHANCEMENTS ===== */
.theme-dark .modal {
  background: var(--bg-primary);
  border-color: var(--border-light);
  box-shadow: var(--shadow-2xl);
}

.theme-dark .modal-header {
  background: var(--bg-secondary);
  border-bottom-color: var(--border-light);
}

.theme-dark .modal-footer {
  background: var(--bg-secondary);
  border-top-color: var(--border-light);
}

.theme-light .modal {
  background: var(--bg-primary);
  border-color: var(--border-light);
  box-shadow: var(--shadow-2xl);
}

.theme-light .modal-header {
  background: var(--bg-secondary);
  border-bottom-color: var(--border-light);
}

.theme-light .modal-footer {
  background: var(--bg-secondary);
  border-top-color: var(--border-light);
}

/* ===== MODERN TOAST THEME ENHANCEMENTS ===== */
.theme-dark .toast {
  background: rgba(15, 23, 42, 0.9);
  border-color: var(--border-light);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.theme-light .toast {
  background: rgba(255, 255, 255, 0.9);
  border-color: var(--border-light);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

/* ===== MODERN SCROLLBAR THEME ENHANCEMENTS ===== */
.theme-dark ::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

.theme-dark ::-webkit-scrollbar-thumb {
  background: var(--neutral-600);
  border: 2px solid var(--bg-secondary);
}

.theme-dark ::-webkit-scrollbar-thumb:hover {
  background: var(--neutral-500);
}

.theme-light ::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

.theme-light ::-webkit-scrollbar-thumb {
  background: var(--neutral-400);
  border: 2px solid var(--bg-secondary);
}

.theme-light ::-webkit-scrollbar-thumb:hover {
  background: var(--neutral-500);
}

/* ===== MODERN FOCUS THEME ENHANCEMENTS ===== */
.theme-dark *:focus {
  outline-color: var(--primary-400);
}

.theme-light *:focus {
  outline-color: var(--primary-600);
}

/* ===== MODERN SELECTION THEME ENHANCEMENTS ===== */
.theme-dark ::selection {
  background-color: var(--primary-800);
  color: var(--primary-100);
}

.theme-light ::selection {
  background-color: var(--primary-100);
  color: var(--primary-900);
}

/* ===== MODERN ANIMATION THEME ENHANCEMENTS ===== */
.theme-dark .btn-run::before {
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
}

.theme-light .btn-run::before {
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
}

/* ===== MODERN RESPONSIVE THEME ENHANCEMENTS ===== */
@media (max-width: 768px) {
  .theme-dark .top-nav,
  .theme-light .top-nav {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }
  
  .theme-dark .tabs-container,
  .theme-light .tabs-container {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

@media (max-width: 480px) {
  .theme-dark .editor-container,
  .theme-light .editor-container {
    margin: var(--space-2);
    border-radius: var(--radius-xl);
  }
  
  .theme-dark .console-container,
  .theme-light .console-container {
    max-height: 250px;
  }
}

/* ===== MODERN HIGH CONTRAST MODE ===== */
@media (prefers-contrast: high) {
  .theme-dark,
  .theme-light {
    --border-light: var(--neutral-600);
    --border-medium: var(--neutral-700);
    --border-strong: var(--neutral-800);
  }
  
  .btn {
    border-width: 2px;
}

.tab {
    border-width: 2px;
  }
}

/* ===== MODERN REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .btn-run::before {
    display: none;
  }
  
  .loading::after {
    display: none;
  }
}

/* ===== MODERN PRINT THEME ===== */
@media print {
  .theme-dark,
  .theme-light {
    --bg-primary: white !important;
    --bg-secondary: #f8f9fa !important;
    --text-primary: black !important;
    --text-secondary: #333 !important;
    --border-light: #ddd !important;
    --border-medium: #ccc !important;
    --border-strong: #bbb !important;
  }
  
  .top-nav,
  .tabs-container,
  .console-container,
.status-bar {
    display: none !important;
  }
  
  .editor-container {
    margin: 0 !important;
    border: 1px solid #ddd !important;
    box-shadow: none !important;
  }
}
